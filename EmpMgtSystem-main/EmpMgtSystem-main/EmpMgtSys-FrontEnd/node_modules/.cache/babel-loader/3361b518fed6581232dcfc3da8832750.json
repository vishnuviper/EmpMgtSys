{"ast":null,"code":"import $hgUW1$html2canvas from \"html2canvas\";\nimport { useRef as $hgUW1$useRef, useCallback as $hgUW1$useCallback } from \"react\";\nimport $hgUW1$jspdf from \"jspdf\";\nconst $234747a9630b4642$export$bc7c183068c332b6 = 3.77952755906;\nlet $234747a9630b4642$export$3e4ff2216a90b8a4;\n(function (Resolution) {\n  Resolution[Resolution[\"LOW\"] = 1] = \"LOW\";\n  Resolution[Resolution[\"NORMAL\"] = 2] = \"NORMAL\";\n  Resolution[Resolution[\"MEDIUM\"] = 3] = \"MEDIUM\";\n  Resolution[Resolution[\"HIGH\"] = 7] = \"HIGH\";\n  Resolution[Resolution[\"EXTREME\"] = 12] = \"EXTREME\";\n})($234747a9630b4642$export$3e4ff2216a90b8a4 || ($234747a9630b4642$export$3e4ff2216a90b8a4 = {}));\nlet $234747a9630b4642$export$e717bcf55e1dfb40;\n(function (Margin) {\n  Margin[Margin[\"NONE\"] = 0] = \"NONE\";\n  Margin[Margin[\"SMALL\"] = 5] = \"SMALL\";\n  Margin[Margin[\"MEDIUM\"] = 10] = \"MEDIUM\";\n  Margin[Margin[\"LARGE\"] = 25] = \"LARGE\";\n})($234747a9630b4642$export$e717bcf55e1dfb40 || ($234747a9630b4642$export$e717bcf55e1dfb40 = {}));\nconst $234747a9630b4642$export$93ca5d3f8675ae4c = {\n  method: \"save\",\n  resolution: $234747a9630b4642$export$3e4ff2216a90b8a4.MEDIUM,\n  page: {\n    margin: $234747a9630b4642$export$e717bcf55e1dfb40.NONE,\n    format: \"A4\",\n    orientation: \"portrait\"\n  },\n  canvas: {\n    mimeType: \"image/jpeg\",\n    qualityRatio: 1,\n    useCORS: true,\n    logging: false\n  },\n  overrides: {}\n};\nclass $d6bf1d6779fcee23$export$2e2bcd8739ae039 {\n  constructor(canvas, options) {\n    this.canvas = canvas;\n    this.options = options;\n    this.pdf = new (0, $hgUW1$jspdf)({\n      format: this.options.page.format,\n      orientation: this.options.page.orientation,\n      ...this.options.overrides?.pdf,\n      unit: \"mm\"\n    });\n  }\n  getMarginTopMM() {\n    const margin = typeof this.options.page.margin === \"object\" ? this.options.page.margin.top : this.options.page.margin;\n    return Number(margin);\n  }\n  getMarginLeftMM() {\n    const margin = typeof this.options.page.margin === \"object\" ? this.options.page.margin.left : this.options.page.margin;\n    return Number(margin);\n  }\n  getMarginRightMM() {\n    const margin = typeof this.options.page.margin === \"object\" ? this.options.page.margin.right : this.options.page.margin;\n    return Number(margin);\n  }\n  getMarginBottomMM() {\n    const margin = typeof this.options.page.margin === \"object\" ? this.options.page.margin.bottom : this.options.page.margin;\n    return Number(margin);\n  }\n  getMarginTop() {\n    return this.getMarginTopMM() * (0, $234747a9630b4642$export$bc7c183068c332b6);\n  }\n  getMarginBottom() {\n    return this.getMarginBottomMM() * (0, $234747a9630b4642$export$bc7c183068c332b6);\n  }\n  getMarginLeft() {\n    return this.getMarginLeftMM() * (0, $234747a9630b4642$export$bc7c183068c332b6);\n  }\n  getMarginRight() {\n    return this.getMarginRightMM() * (0, $234747a9630b4642$export$bc7c183068c332b6);\n  }\n  getScale() {\n    return this.options.resolution;\n  }\n  getPageHeight() {\n    return this.getPageHeightMM() * (0, $234747a9630b4642$export$bc7c183068c332b6);\n  }\n  getPageHeightMM() {\n    return this.pdf.internal.pageSize.height;\n  }\n  getPageWidthMM() {\n    return this.pdf.internal.pageSize.width;\n  }\n  getPageWidth() {\n    return this.getPageWidthMM() * (0, $234747a9630b4642$export$bc7c183068c332b6);\n  }\n  getOriginalCanvasWidth() {\n    return this.canvas.width / this.getScale();\n  }\n  getOriginalCanvasHeight() {\n    return this.canvas.height / this.getScale();\n  }\n  getCanvasPageAvailableHeight() {\n    return this.getPageAvailableHeight() * this.getScale() * this.getHorizontalFitFactor();\n  }\n  getPageAvailableWidth() {\n    return this.getPageWidth() - (this.getMarginLeft() + this.getMarginRight());\n  }\n  getPageAvailableHeight() {\n    return this.getPageHeight() - (this.getMarginTop() + this.getMarginBottom());\n  }\n  getPageAvailableWidthMM() {\n    return this.getPageAvailableWidth() / (0, $234747a9630b4642$export$bc7c183068c332b6);\n  }\n  getPageAvailableHeightMM() {\n    return this.getPageAvailableHeight() / (0, $234747a9630b4642$export$bc7c183068c332b6);\n  }\n  getNumberPages() {\n    return Math.ceil(this.canvas.height / this.getCanvasPageAvailableHeight());\n  }\n  getHorizontalFitFactor() {\n    if (this.getPageAvailableWidth() < this.getOriginalCanvasWidth()) return this.getOriginalCanvasWidth() / this.getPageAvailableWidth();\n    return 1;\n  }\n  getCanvasOffsetY(pageNumber) {\n    return this.getCanvasPageAvailableHeight() * (pageNumber - 1);\n  }\n  getCanvasHeightLeft(pageNumber) {\n    return this.canvas.height - this.getCanvasOffsetY(pageNumber);\n  }\n  getCanvasPageHeight(pageNumber) {\n    if (this.canvas.height < this.getCanvasPageAvailableHeight()) return this.canvas.height;\n    const canvasHeightPending = this.getCanvasHeightLeft(pageNumber);\n    return canvasHeightPending < this.getCanvasPageAvailableHeight() ? canvasHeightPending : this.getCanvasPageAvailableHeight();\n  }\n  getCanvasPageWidth() {\n    return this.canvas.width;\n  }\n  createCanvasPage(pageNumber) {\n    const canvasPageWidth = this.getCanvasPageWidth();\n    const canvasPageHeight = this.getCanvasPageHeight(pageNumber);\n    const canvasPage = document.createElement(\"canvas\");\n    canvasPage.setAttribute(\"width\", String(canvasPageWidth));\n    canvasPage.setAttribute(\"height\", String(canvasPageHeight));\n    const ctx = canvasPage.getContext(\"2d\");\n    ctx.drawImage(this.canvas, 0, this.getCanvasOffsetY(pageNumber), this.canvas.width, canvasPageHeight, 0, 0, this.canvas.width, canvasPageHeight);\n    return canvasPage;\n  }\n  convert() {\n    let pageNumber = 1;\n    const numberPages = this.getNumberPages();\n    while (pageNumber <= numberPages) {\n      if (pageNumber > 1) this.pdf.addPage(this.options.page.format, this.options.page.orientation);\n      const canvasPage = this.createCanvasPage(pageNumber);\n      const pageImageDataURL = canvasPage.toDataURL(this.options.canvas.mimeType, this.options.canvas.qualityRatio);\n      this.pdf.setPage(pageNumber);\n      this.pdf.addImage({\n        imageData: pageImageDataURL,\n        width: canvasPage.width / (this.getScale() * (0, $234747a9630b4642$export$bc7c183068c332b6) * this.getHorizontalFitFactor()),\n        height: canvasPage.height / (this.getScale() * (0, $234747a9630b4642$export$bc7c183068c332b6) * this.getHorizontalFitFactor()),\n        x: this.getMarginLeftMM(),\n        y: this.getMarginTopMM()\n      });\n      pageNumber += 1;\n    }\n    return this.pdf;\n  }\n}\nconst $fab42eb3dee39b5b$export$697e52778de11d88 = options => {\n  if (!options) return 0, $234747a9630b4642$export$93ca5d3f8675ae4c;\n  return {\n    ...(0, $234747a9630b4642$export$93ca5d3f8675ae4c),\n    ...options,\n    canvas: {\n      ...(0, $234747a9630b4642$export$93ca5d3f8675ae4c).canvas,\n      ...options.canvas\n    },\n    page: {\n      ...(0, $234747a9630b4642$export$93ca5d3f8675ae4c).page,\n      ...options.page\n    }\n  };\n};\nconst $149c1bd638913645$var$getTargetElement = targetRefOrFunction => {\n  if (typeof targetRefOrFunction === \"function\") return targetRefOrFunction();\n  return targetRefOrFunction?.current;\n};\nconst $149c1bd638913645$export$398b9fbd663a6614 = usePDFoptions => {\n  const targetRef = (0, $hgUW1$useRef)();\n  const toPDF = (0, $hgUW1$useCallback)(toPDFoptions => {\n    return $149c1bd638913645$var$generatePDF(targetRef, usePDFoptions ?? toPDFoptions);\n  }, [targetRef, usePDFoptions]);\n  return {\n    targetRef: targetRef,\n    toPDF: toPDF\n  };\n};\nconst $149c1bd638913645$var$generatePDF = async (targetRefOrFunction, customOptions) => {\n  const options = (0, $fab42eb3dee39b5b$export$697e52778de11d88)(customOptions);\n  const targetElement = $149c1bd638913645$var$getTargetElement(targetRefOrFunction);\n  if (!targetElement) {\n    console.error(\"Unable to get the target element.\");\n    return;\n  }\n  const canvas = await (0, $hgUW1$html2canvas)(targetElement, {\n    useCORS: options.canvas.useCORS,\n    logging: options.canvas.logging,\n    scale: options.resolution,\n    ...options.overrides?.canvas\n  });\n  const converter = new (0, $d6bf1d6779fcee23$export$2e2bcd8739ae039)(canvas, options);\n  const pdf = converter.convert();\n  switch (options.method) {\n    case \"build\":\n      return pdf;\n    case \"open\":\n      window.open(pdf.output(\"bloburl\"), \"_blank\");\n      return pdf;\n    case \"save\":\n    default:\n      {\n        const pdfFilename = options.filename ?? `${new Date().getTime()}.pdf`;\n        await pdf.save(pdfFilename, {\n          returnPromise: true\n        });\n        return pdf;\n      }\n  }\n};\nvar $149c1bd638913645$export$2e2bcd8739ae039 = $149c1bd638913645$var$generatePDF;\nexport { $149c1bd638913645$export$398b9fbd663a6614 as usePDF, $149c1bd638913645$export$2e2bcd8739ae039 as default, $234747a9630b4642$export$3e4ff2216a90b8a4 as Resolution, $234747a9630b4642$export$e717bcf55e1dfb40 as Margin };","map":{"version":3,"names":["$234747a9630b4642$export$bc7c183068c332b6","$234747a9630b4642$export$3e4ff2216a90b8a4","Resolution","$234747a9630b4642$export$e717bcf55e1dfb40","Margin","$234747a9630b4642$export$93ca5d3f8675ae4c","method","resolution","MEDIUM","page","margin","NONE","format","orientation","canvas","mimeType","qualityRatio","useCORS","logging","overrides","$d6bf1d6779fcee23$export$2e2bcd8739ae039","constructor","options","pdf","$hgUW1$jspdf","unit","getMarginTopMM","top","Number","getMarginLeftMM","left","getMarginRightMM","right","getMarginBottomMM","bottom","getMarginTop","getMarginBottom","getMarginLeft","getMarginRight","getScale","getPageHeight","getPageHeightMM","internal","pageSize","height","getPageWidthMM","width","getPageWidth","getOriginalCanvasWidth","getOriginalCanvasHeight","getCanvasPageAvailableHeight","getPageAvailableHeight","getHorizontalFitFactor","getPageAvailableWidth","getPageAvailableWidthMM","getPageAvailableHeightMM","getNumberPages","Math","ceil","getCanvasOffsetY","pageNumber","getCanvasHeightLeft","getCanvasPageHeight","canvasHeightPending","getCanvasPageWidth","createCanvasPage","canvasPageWidth","canvasPageHeight","canvasPage","document","createElement","setAttribute","String","ctx","getContext","drawImage","convert","numberPages","addPage","pageImageDataURL","toDataURL","setPage","addImage","imageData","x","y","$fab42eb3dee39b5b$export$697e52778de11d88","$149c1bd638913645$var$getTargetElement","targetRefOrFunction","current","$149c1bd638913645$export$398b9fbd663a6614","usePDFoptions","targetRef","$hgUW1$useRef","toPDF","$hgUW1$useCallback","toPDFoptions","$149c1bd638913645$var$generatePDF","customOptions","targetElement","console","error","$hgUW1$html2canvas","scale","converter","window","open","output","pdfFilename","filename","Date","getTime","save","returnPromise","$149c1bd638913645$export$2e2bcd8739ae039"],"sources":["src/index.ts","src/converter.ts","src/constants.ts","src/utils.ts"],"sourcesContent":["import { useRef, useCallback } from \"react\";\nimport html2canvas from \"html2canvas\";\n\nimport Converter from \"./converter\";\nimport { Options, TargetElementFinder, UsePDFResult } from \"./types\";\nimport { buildConvertOptions } from \"./utils\";\nimport jsPDF from \"jspdf\";\nexport { Resolution, Margin } from \"./constants\";\nexport type { Options };\n\nconst getTargetElement = (\n  targetRefOrFunction: TargetElementFinder\n): HTMLElement | null | undefined => {\n  if (typeof targetRefOrFunction === \"function\") {\n    return targetRefOrFunction();\n  }\n  return targetRefOrFunction?.current;\n};\n\nexport const usePDF = (usePDFoptions?: Options): UsePDFResult => {\n  const targetRef = useRef();\n  const toPDF = useCallback(\n    (toPDFoptions?: Options): Promise<InstanceType<typeof jsPDF>> => {\n      return generatePDF(targetRef, usePDFoptions ?? toPDFoptions);\n    },\n    [targetRef, usePDFoptions]\n  );\n  return { targetRef, toPDF };\n};\n\nconst generatePDF = async (\n  targetRefOrFunction: TargetElementFinder,\n  customOptions?: Options\n): Promise<InstanceType<typeof jsPDF>> => {\n  const options = buildConvertOptions(customOptions);\n  const targetElement = getTargetElement(targetRefOrFunction);\n  if (!targetElement) {\n    console.error(\"Unable to get the target element.\");\n    return;\n  }\n  const canvas = await html2canvas(targetElement, {\n    useCORS: options.canvas.useCORS,\n    logging: options.canvas.logging,\n    scale: options.resolution,\n    ...options.overrides?.canvas,\n  });\n  const converter = new Converter(canvas, options);\n  const pdf = converter.convert();\n  switch (options.method) {\n    case \"build\":\n      return pdf;\n    case \"open\": {\n      window.open(pdf.output(\"bloburl\"), \"_blank\");\n      return pdf;\n    }\n    case \"save\":\n    default: {\n      const pdfFilename = options.filename ?? `${new Date().getTime()}.pdf`;\n      await pdf.save(pdfFilename, { returnPromise: true });\n      return pdf;\n    }\n  }\n};\n\nexport default generatePDF;\n","import jsPDF from \"jspdf\";\nimport { MM_TO_PX } from \"./constants\";\nimport { ConversionOptions, Options } from \"./types\";\n\nexport default class Converter {\n  pdf: InstanceType<typeof jsPDF>;\n  canvas: HTMLCanvasElement;\n  options: Options;\n  constructor(canvas: HTMLCanvasElement, options: ConversionOptions) {\n    this.canvas = canvas;\n    this.options = options;\n    this.pdf = new jsPDF({\n      format: this.options.page.format,\n      orientation: this.options.page.orientation,\n      ...this.options.overrides?.pdf,\n      unit: \"mm\",\n    });\n  }\n  getMarginTopMM() {\n    const margin =\n      typeof this.options.page.margin === \"object\"\n        ? this.options.page.margin.top\n        : this.options.page.margin;\n    return Number(margin);\n  }\n  getMarginLeftMM() {\n    const margin =\n      typeof this.options.page.margin === \"object\"\n        ? this.options.page.margin.left\n        : this.options.page.margin;\n    return Number(margin);\n  }\n  getMarginRightMM() {\n    const margin =\n      typeof this.options.page.margin === \"object\"\n        ? this.options.page.margin.right\n        : this.options.page.margin;\n    return Number(margin);\n  }\n  getMarginBottomMM() {\n    const margin =\n      typeof this.options.page.margin === \"object\"\n        ? this.options.page.margin.bottom\n        : this.options.page.margin;\n    return Number(margin);\n  }\n  getMarginTop() {\n    return this.getMarginTopMM() * MM_TO_PX;\n  }\n  getMarginBottom() {\n    return this.getMarginBottomMM() * MM_TO_PX;\n  }\n  getMarginLeft() {\n    return this.getMarginLeftMM() * MM_TO_PX;\n  }\n  getMarginRight() {\n    return this.getMarginRightMM() * MM_TO_PX;\n  }\n  getScale() {\n    return this.options.resolution;\n  }\n  getPageHeight() {\n    return this.getPageHeightMM() * MM_TO_PX;\n  }\n  getPageHeightMM() {\n    return this.pdf.internal.pageSize.height;\n  }\n  getPageWidthMM() {\n    return this.pdf.internal.pageSize.width;\n  }\n  getPageWidth() {\n    return this.getPageWidthMM() * MM_TO_PX;\n  }\n  getOriginalCanvasWidth() {\n    return this.canvas.width / this.getScale();\n  }\n  getOriginalCanvasHeight() {\n    return this.canvas.height / this.getScale();\n  }\n  getCanvasPageAvailableHeight() {\n    return (\n      this.getPageAvailableHeight() *\n      this.getScale() *\n      this.getHorizontalFitFactor()\n    );\n  }\n  getPageAvailableWidth() {\n    return this.getPageWidth() - (this.getMarginLeft() + this.getMarginRight());\n  }\n  getPageAvailableHeight() {\n    return (\n      this.getPageHeight() - (this.getMarginTop() + this.getMarginBottom())\n    );\n  }\n  getPageAvailableWidthMM() {\n    return this.getPageAvailableWidth() / MM_TO_PX;\n  }\n  getPageAvailableHeightMM() {\n    return this.getPageAvailableHeight() / MM_TO_PX;\n  }\n  getNumberPages() {\n    return Math.ceil(this.canvas.height / this.getCanvasPageAvailableHeight());\n  }\n  getHorizontalFitFactor() {\n    if (this.getPageAvailableWidth() < this.getOriginalCanvasWidth()) {\n      return this.getOriginalCanvasWidth() / this.getPageAvailableWidth();\n    }\n    return 1;\n  }\n  getCanvasOffsetY(pageNumber: number) {\n    return this.getCanvasPageAvailableHeight() * (pageNumber - 1);\n  }\n  getCanvasHeightLeft(pageNumber: number) {\n    return this.canvas.height - this.getCanvasOffsetY(pageNumber);\n  }\n  getCanvasPageHeight(pageNumber: number) {\n    if (this.canvas.height < this.getCanvasPageAvailableHeight()) {\n      return this.canvas.height;\n    }\n    const canvasHeightPending = this.getCanvasHeightLeft(pageNumber);\n    return canvasHeightPending < this.getCanvasPageAvailableHeight()\n      ? canvasHeightPending\n      : this.getCanvasPageAvailableHeight();\n  }\n  getCanvasPageWidth() {\n    return this.canvas.width;\n  }\n  createCanvasPage(pageNumber: number): HTMLCanvasElement {\n    const canvasPageWidth = this.getCanvasPageWidth();\n    const canvasPageHeight = this.getCanvasPageHeight(pageNumber);\n    const canvasPage = document.createElement(\"canvas\");\n    canvasPage.setAttribute(\"width\", String(canvasPageWidth));\n    canvasPage.setAttribute(\"height\", String(canvasPageHeight));\n    const ctx = canvasPage.getContext(\"2d\");\n    ctx.drawImage(\n      this.canvas,\n      0,\n      this.getCanvasOffsetY(pageNumber),\n      this.canvas.width,\n      canvasPageHeight,\n      0,\n      0,\n      this.canvas.width,\n      canvasPageHeight\n    );\n    return canvasPage;\n  }\n  convert(): InstanceType<typeof jsPDF> {\n    let pageNumber = 1;\n    const numberPages = this.getNumberPages();\n    while (pageNumber <= numberPages) {\n      if (pageNumber > 1) {\n        this.pdf.addPage(\n          this.options.page.format,\n          this.options.page.orientation\n        );\n      }\n      const canvasPage = this.createCanvasPage(pageNumber);\n      const pageImageDataURL = canvasPage.toDataURL(\n        this.options.canvas.mimeType,\n        this.options.canvas.qualityRatio\n      );\n      this.pdf.setPage(pageNumber);\n      this.pdf.addImage({\n        imageData: pageImageDataURL,\n        width:\n          canvasPage.width /\n          (this.getScale() * MM_TO_PX * this.getHorizontalFitFactor()),\n        height:\n          canvasPage.height /\n          (this.getScale() * MM_TO_PX * this.getHorizontalFitFactor()),\n        x: this.getMarginLeftMM(),\n        y: this.getMarginTopMM(),\n      });\n      pageNumber += 1;\n    }\n    return this.pdf;\n  }\n}\n","import { ConversionOptions } from \"./types\";\n\nexport const MM_TO_PX = 3.77952755906;\n\nexport enum Resolution {\n  LOW = 1,\n  NORMAL = 2,\n  MEDIUM = 3,\n  HIGH = 7,\n  EXTREME = 12,\n}\n\nexport enum Margin {\n  NONE = 0,\n  SMALL = 5,\n  MEDIUM = 10,\n  LARGE = 25,\n}\n\nexport const DEFAULT_OPTIONS: Readonly<ConversionOptions> = {\n  method: \"save\",\n  resolution: Resolution.MEDIUM,\n  page: {\n    margin: Margin.NONE,\n    format: \"A4\",\n    orientation: \"portrait\",\n  },\n  canvas: {\n    mimeType: \"image/jpeg\",\n    qualityRatio: 1,\n    useCORS: true,\n    logging: false,\n  },\n  overrides: {},\n};\n","import { DEFAULT_OPTIONS } from \"./constants\";\nimport { ConversionOptions, Options } from \"./types\";\n\nexport const buildConvertOptions = (options?: Options): ConversionOptions => {\n  if (!options) {\n    return DEFAULT_OPTIONS;\n  }\n  return {\n    ...DEFAULT_OPTIONS,\n    ...options,\n    canvas: { ...DEFAULT_OPTIONS.canvas, ...options.canvas },\n    page: { ...DEFAULT_OPTIONS.page, ...options.page },\n  };\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}